import{s as le,l as Re,m as R,ad as Le,F as Y,ae as Me,b as Be,f as G,af as H,i as ce,h as nt,u as Ke,p as je,q as We,T as rt,r as ye,v as Z,Q as Ue,ag as at}from"./scheduler.XZPkp4Hr.js";import{S as qe,i as Ge,t as fe,a as de,c as it,b as ot,m as st,d as ut}from"./index.BLcQLEXD.js";import{e as we,g as ve,b as lt,w as Ve,n as V,t as Q,x as ct,y as be,h as Ne,z as O}from"./index.CHLTZgX5.js";import{w as se,r as Te}from"./index.CaT_10aC.js";/**
 * @license lucide-svelte v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Se(r,e,t){const n=r.slice();return n[11]=e[t][0],n[12]=e[t][1],n}function ae(r){let e,t=[r[12]],n={};for(let a=0;a<t.length;a+=1)n=R(n,t[a]);return{c(){e=Le(r[11]),this.h()},l(a){e=Me(a,r[11],{}),Be(e).forEach(G),this.h()},h(){H(e,n)},m(a,o){ce(a,e,o)},p(a,o){H(e,n=ve(t,[o&32&&a[12]]))},d(a){a&&G(e)}}}function Fe(r){let e=r[11],t,n=r[11]&&ae(r);return{c(){n&&n.c(),t=Y()},l(a){n&&n.l(a),t=Y()},m(a,o){n&&n.m(a,o),ce(a,t,o)},p(a,o){a[11]?e?le(e,a[11])?(n.d(1),n=ae(a),e=a[11],n.c(),n.m(t.parentNode,t)):n.p(a,o):(n=ae(a),e=a[11],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=a[11])},d(a){a&&G(t),n&&n.d(a)}}}function ft(r){let e,t,n,a,o,i=we(r[5]),f=[];for(let l=0;l<i.length;l+=1)f[l]=Fe(Se(r,i,l));const b=r[10].default,v=Re(b,r,r[9],null);let p=[Ee,r[7],{width:r[2]},{height:r[2]},{stroke:r[1]},{"stroke-width":n=r[4]?Number(r[3])*24/Number(r[2]):r[3]},{class:a=r[6]("lucide-icon","lucide",r[0]?`lucide-${r[0]}`:"",r[8].class)}],h={};for(let l=0;l<p.length;l+=1)h=R(h,p[l]);return{c(){e=Le("svg");for(let l=0;l<f.length;l+=1)f[l].c();t=Y(),v&&v.c(),this.h()},l(l){e=Me(l,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var m=Be(e);for(let c=0;c<f.length;c+=1)f[c].l(m);t=Y(),v&&v.l(m),m.forEach(G),this.h()},h(){H(e,h)},m(l,m){ce(l,e,m);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null);nt(e,t),v&&v.m(e,null),o=!0},p(l,[m]){if(m&32){i=we(l[5]);let c;for(c=0;c<i.length;c+=1){const N=Se(l,i,c);f[c]?f[c].p(N,m):(f[c]=Fe(N),f[c].c(),f[c].m(e,t))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}v&&v.p&&(!o||m&512)&&Ke(v,b,l,l[9],o?We(b,l[9],m,null):je(l[9]),null),H(e,h=ve(p,[Ee,m&128&&l[7],(!o||m&4)&&{width:l[2]},(!o||m&4)&&{height:l[2]},(!o||m&2)&&{stroke:l[1]},(!o||m&28&&n!==(n=l[4]?Number(l[3])*24/Number(l[2]):l[3]))&&{"stroke-width":n},(!o||m&257&&a!==(a=l[6]("lucide-icon","lucide",l[0]?`lucide-${l[0]}`:"",l[8].class)))&&{class:a}]))},i(l){o||(fe(v,l),o=!0)},o(l){de(v,l),o=!1},d(l){l&&G(e),rt(f,l),v&&v.d(l)}}}function dt(r,e,t){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let a=ye(e,n),{$$slots:o={},$$scope:i}=e,{name:f=void 0}=e,{color:b="currentColor"}=e,{size:v=24}=e,{strokeWidth:p=2}=e,{absoluteStrokeWidth:h=!1}=e,{iconNode:l=[]}=e;const m=(...c)=>c.filter((N,P,S)=>!!N&&S.indexOf(N)===P).join(" ");return r.$$set=c=>{t(8,e=R(R({},e),Z(c))),t(7,a=ye(e,n)),"name"in c&&t(0,f=c.name),"color"in c&&t(1,b=c.color),"size"in c&&t(2,v=c.size),"strokeWidth"in c&&t(3,p=c.strokeWidth),"absoluteStrokeWidth"in c&&t(4,h=c.absoluteStrokeWidth),"iconNode"in c&&t(5,l=c.iconNode),"$$scope"in c&&t(9,i=c.$$scope)},e=Z(e),[f,b,v,p,h,l,m,a,e,i,o]}class vt extends qe{constructor(e){super(),Ge(this,e,dt,ft,le,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function bt(r){let e;const t=r[2].default,n=Re(t,r,r[3],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,o){n&&n.m(a,o),e=!0},p(a,o){n&&n.p&&(!e||o&8)&&Ke(n,t,a,a[3],e?We(t,a[3],o,null):je(a[3]),null)},i(a){e||(fe(n,a),e=!0)},o(a){de(n,a),e=!1},d(a){n&&n.d(a)}}}function ht(r){let e,t;const n=[{name:"arrow-down-to-line"},r[1],{iconNode:r[0]}];let a={$$slots:{default:[bt]},$$scope:{ctx:r}};for(let o=0;o<n.length;o+=1)a=R(a,n[o]);return e=new vt({props:a}),{c(){it(e.$$.fragment)},l(o){ot(e.$$.fragment,o)},m(o,i){st(e,o,i),t=!0},p(o,[i]){const f=i&3?ve(n,[n[0],i&2&&lt(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(f.$$scope={dirty:i,ctx:o}),e.$set(f)},i(o){t||(fe(e.$$.fragment,o),t=!0)},o(o){de(e.$$.fragment,o),t=!1},d(o){ut(e,o)}}}function mt(r,e,t){let{$$slots:n={},$$scope:a}=e;const o=[["path",{d:"M12 17V3"}],["path",{d:"m6 11 6 6 6-6"}],["path",{d:"M19 21H5"}]];return r.$$set=i=>{t(1,e=R(R({},e),Z(i))),"$$scope"in i&&t(3,a=i.$$scope)},e=Z(e),[o,e,n,a]}class un extends qe{constructor(e){super(),Ge(this,e,mt,ht,le,{})}}function pt(r){return r[r.length-1]}function ln(r,e){return r.map((t,n)=>r[(e+n)%r.length])}const cn=(r,e)=>{const t=Ve(r),n=(o,i)=>{t.update(f=>{const b=o(f);let v=b;return e&&(v=e({curr:f,next:b})),i==null||i(v),v})};return{...t,update:n,set:o=>{n(()=>o)}}};function ze(r){return new Promise(e=>setTimeout(e,r))}let gt="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",yt=(r=21)=>{let e="",t=r;for(;t--;)e+=gt[Math.random()*64|0];return e};function wt(){return yt(10)}function fn(r){return r.reduce((e,t)=>(e[t]=wt(),e),{})}const Xe=()=>typeof window<"u";function Nt(){const r=navigator.userAgentData;return(r==null?void 0:r.platform)??navigator.platform}const Ye=r=>Xe()&&r.test(Nt().toLowerCase()),Tt=()=>Xe()&&!!navigator.maxTouchPoints,Et=()=>Ye(/^mac/)&&!Tt(),St=()=>Ye(/mac|iphone|ipad|ipod/i),Ft=()=>St()&&!Et(),ie="data-melt-scroll-lock";function ke(r,e){if(!r)return;const t=r.style.cssText;return Object.assign(r.style,e),()=>{r.style.cssText=t}}function kt(r,e,t){if(!r)return;const n=r.style.getPropertyValue(e);return r.style.setProperty(e,t),()=>{n?r.style.setProperty(e,n):r.style.removeProperty(e)}}function Pt(r){const e=r.getBoundingClientRect().left;return Math.round(e)+r.scrollLeft?"paddingLeft":"paddingRight"}function dn(r){const e=document,t=e.defaultView??window,{documentElement:n,body:a}=e;if(a.hasAttribute(ie))return V;a.setAttribute(ie,"");const i=t.innerWidth-n.clientWidth,f=()=>kt(n,"--scrollbar-width",`${i}px`),b=Pt(n),v=t.getComputedStyle(a)[b],p=()=>ke(a,{overflow:"hidden",[b]:`calc(${v} + ${i}px)`}),h=()=>{const{scrollX:m,scrollY:c,visualViewport:N}=t,P=(N==null?void 0:N.offsetLeft)??0,S=(N==null?void 0:N.offsetTop)??0,D=ke(a,{position:"fixed",overflow:"hidden",top:`${-(c-Math.floor(S))}px`,left:`${-(m-Math.floor(P))}px`,right:"0",[b]:`calc(${v} + ${i}px)`});return()=>{D==null||D(),t.scrollTo(m,c)}},l=[f(),Ft()?h():p()];return()=>{l.forEach(m=>m==null?void 0:m()),a.removeAttribute(ie)}}function vn(r){const e={};return Object.keys(r).forEach(t=>{const n=t,a=r[n];e[n]=Ve(se(a))}),e}function Dt(r){let e=r.parentElement;for(;Q(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function bn(r,e){return e!==void 0?e:Dt(r)==="body"?document.body:null}async function hn(r){const{prop:e,defaultEl:t}=r;if(await Promise.all([ze(1),Ue]),e===void 0){t==null||t.focus();return}const n=ct(e)?e(t):e;if(typeof n=="string"){const a=document.querySelector(n);if(!Q(a))return;a.focus()}else Q(n)&&n.focus()}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var He=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],J=He.join(","),Ze=typeof Element>"u",L=Ze?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,x=!Ze&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},$=function r(e,t){var n;t===void 0&&(t=!0);var a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=a===""||a==="true",i=o||t&&e&&r(e.parentNode);return i},It=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},Qe=function(e,t,n){if($(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(J));return t&&L.call(e,J)&&a.unshift(e),a=a.filter(n),a},Je=function r(e,t,n){for(var a=[],o=Array.from(e);o.length;){var i=o.shift();if(!$(i,!1))if(i.tagName==="SLOT"){var f=i.assignedElements(),b=f.length?f:i.children,v=r(b,!0,n);n.flatten?a.push.apply(a,v):a.push({scopeParent:i,candidates:v})}else{var p=L.call(i,J);p&&n.filter(i)&&(t||!e.includes(i))&&a.push(i);var h=i.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(i),l=!$(h,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(i));if(h&&l){var m=r(h===!0?i.children:h.children,!0,n);n.flatten?a.push.apply(a,m):a.push({scopeParent:i,candidates:m})}else o.unshift.apply(o,i.children)}}return a},xe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},_=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||It(e))&&!xe(e)?0:e.tabIndex},At=function(e,t){var n=_(e);return n<0&&t&&!xe(e)?0:n},Ct=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},$e=function(e){return e.tagName==="INPUT"},Ot=function(e){return $e(e)&&e.type==="hidden"},_t=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},Rt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},Lt=function(e){if(!e.name)return!0;var t=e.form||x(e),n=function(f){return t.querySelectorAll('input[type="radio"][name="'+f+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(e.name));else try{a=n(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var o=Rt(a,e.form);return!o||o===e},Mt=function(e){return $e(e)&&e.type==="radio"},Bt=function(e){return Mt(e)&&!Lt(e)},Kt=function(e){var t,n=e&&x(e),a=(t=n)===null||t===void 0?void 0:t.host,o=!1;if(n&&n!==e){var i,f,b;for(o=!!((i=a)!==null&&i!==void 0&&(f=i.ownerDocument)!==null&&f!==void 0&&f.contains(a)||e!=null&&(b=e.ownerDocument)!==null&&b!==void 0&&b.contains(e));!o&&a;){var v,p,h;n=x(a),a=(v=n)===null||v===void 0?void 0:v.host,o=!!((p=a)!==null&&p!==void 0&&(h=p.ownerDocument)!==null&&h!==void 0&&h.contains(a))}}return o},Pe=function(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height;return n===0&&a===0},jt=function(e,t){var n=t.displayCheck,a=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=L.call(e,"details>summary:first-of-type"),i=o?e.parentElement:e;if(L.call(i,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof a=="function"){for(var f=e;e;){var b=e.parentElement,v=x(e);if(b&&!b.shadowRoot&&a(b)===!0)return Pe(e);e.assignedSlot?e=e.assignedSlot:!b&&v!==e.ownerDocument?e=v.host:e=b}e=f}if(Kt(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Pe(e);return!1},Wt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var a=t.children.item(n);if(a.tagName==="LEGEND")return L.call(t,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}t=t.parentElement}return!1},ee=function(e,t){return!(t.disabled||$(t)||Ot(t)||jt(t,e)||_t(t)||Wt(t))},ue=function(e,t){return!(Bt(t)||_(t)<0||!ee(e,t))},Ut=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},qt=function r(e){var t=[],n=[];return e.forEach(function(a,o){var i=!!a.scopeParent,f=i?a.scopeParent:a,b=At(f,i),v=i?r(a.candidates):f;b===0?i?t.push.apply(t,v):t.push(f):n.push({documentOrder:o,tabIndex:b,item:a,isScope:i,content:v})}),n.sort(Ct).reduce(function(a,o){return o.isScope?a.push.apply(a,o.content):a.push(o.content),a},[]).concat(t)},Gt=function(e,t){t=t||{};var n;return t.getShadowRoot?n=Je([e],t.includeContainer,{filter:ue.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ut}):n=Qe(e,t.includeContainer,ue.bind(null,t)),qt(n)},Vt=function(e,t){t=t||{};var n;return t.getShadowRoot?n=Je([e],t.includeContainer,{filter:ee.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=Qe(e,t.includeContainer,ee.bind(null,t)),n},M=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return L.call(e,J)===!1?!1:ue(t,e)},zt=He.concat("iframe").join(","),oe=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return L.call(e,zt)===!1?!1:ee(t,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function De(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ie(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?De(Object(t),!0).forEach(function(n){Xt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):De(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Xt(r,e,t){return e=Ht(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Yt(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ht(r){var e=Yt(r,"string");return typeof e=="symbol"?e:String(e)}var Ae={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var a=e.indexOf(t);a===-1||e.splice(a,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},Zt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Qt=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},q=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Jt=function(e){return q(e)&&!e.shiftKey},xt=function(e){return q(e)&&e.shiftKey},Ce=function(e){return setTimeout(e,0)},Oe=function(e,t){var n=-1;return e.every(function(a,o){return t(a)?(n=o,!1):!0}),n},U=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,n):e},z=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},$t=[],en=function(e,t){var n=(t==null?void 0:t.document)||document,a=(t==null?void 0:t.trapStack)||$t,o=Ie({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Jt,isKeyBackward:xt},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,b=function(u,s,d){return u&&u[s]!==void 0?u[s]:o[d||s]},v=function(u,s){var d=typeof(s==null?void 0:s.composedPath)=="function"?s.composedPath():void 0;return i.containerGroups.findIndex(function(g){var y=g.container,T=g.tabbableNodes;return y.contains(u)||(d==null?void 0:d.includes(y))||T.find(function(E){return E===u})})},p=function(u){var s=o[u];if(typeof s=="function"){for(var d=arguments.length,g=new Array(d>1?d-1:0),y=1;y<d;y++)g[y-1]=arguments[y];s=s.apply(void 0,g)}if(s===!0&&(s=void 0),!s){if(s===void 0||s===!1)return s;throw new Error("`".concat(u,"` was specified but was not a node, or did not return a node"))}var T=s;if(typeof s=="string"&&(T=n.querySelector(s),!T))throw new Error("`".concat(u,"` as selector refers to no known node"));return T},h=function(){var u=p("initialFocus");if(u===!1)return!1;if(u===void 0||!oe(u,o.tabbableOptions))if(v(n.activeElement)>=0)u=n.activeElement;else{var s=i.tabbableGroups[0],d=s&&s.firstTabbableNode;u=d||p("fallbackFocus")}if(!u)throw new Error("Your focus-trap needs to have at least one focusable element");return u},l=function(){if(i.containerGroups=i.containers.map(function(u){var s=Gt(u,o.tabbableOptions),d=Vt(u,o.tabbableOptions),g=s.length>0?s[0]:void 0,y=s.length>0?s[s.length-1]:void 0,T=d.find(function(F){return M(F)}),E=d.slice().reverse().find(function(F){return M(F)}),k=!!s.find(function(F){return _(F)>0});return{container:u,tabbableNodes:s,focusableNodes:d,posTabIndexesFound:k,firstTabbableNode:g,lastTabbableNode:y,firstDomTabbableNode:T,lastDomTabbableNode:E,nextTabbableNode:function(C){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,A=s.indexOf(C);return A<0?j?d.slice(d.indexOf(C)+1).find(function(W){return M(W)}):d.slice(0,d.indexOf(C)).reverse().find(function(W){return M(W)}):s[A+(j?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(u){return u.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(u){return u.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function w(u){var s=u.activeElement;if(s)return s.shadowRoot&&s.shadowRoot.activeElement!==null?w(s.shadowRoot):s},c=function w(u){if(u!==!1&&u!==m(document)){if(!u||!u.focus){w(h());return}u.focus({preventScroll:!!o.preventScroll}),i.mostRecentlyFocusedNode=u,Zt(u)&&u.select()}},N=function(u){var s=p("setReturnFocus",u);return s||(s===!1?!1:u)},P=function(u){var s=u.target,d=u.event,g=u.isBackward,y=g===void 0?!1:g;s=s||z(d),l();var T=null;if(i.tabbableGroups.length>0){var E=v(s,d),k=E>=0?i.containerGroups[E]:void 0;if(E<0)y?T=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:T=i.tabbableGroups[0].firstTabbableNode;else if(y){var F=Oe(i.tabbableGroups,function(ne){var re=ne.firstTabbableNode;return s===re});if(F<0&&(k.container===s||oe(s,o.tabbableOptions)&&!M(s,o.tabbableOptions)&&!k.nextTabbableNode(s,!1))&&(F=E),F>=0){var C=F===0?i.tabbableGroups.length-1:F-1,j=i.tabbableGroups[C];T=_(s)>=0?j.lastTabbableNode:j.lastDomTabbableNode}else q(d)||(T=k.nextTabbableNode(s,!1))}else{var A=Oe(i.tabbableGroups,function(ne){var re=ne.lastTabbableNode;return s===re});if(A<0&&(k.container===s||oe(s,o.tabbableOptions)&&!M(s,o.tabbableOptions)&&!k.nextTabbableNode(s))&&(A=E),A>=0){var W=A===i.tabbableGroups.length-1?0:A+1,ge=i.tabbableGroups[W];T=_(s)>=0?ge.firstTabbableNode:ge.firstDomTabbableNode}else q(d)||(T=k.nextTabbableNode(s))}}else T=p("fallbackFocus");return T},S=function(u){var s=z(u);if(!(v(s,u)>=0)){if(U(o.clickOutsideDeactivates,u)){f.deactivate({returnFocus:o.returnFocusOnDeactivate});return}U(o.allowOutsideClick,u)||u.preventDefault()}},D=function(u){var s=z(u),d=v(s,u)>=0;if(d||s instanceof Document)d&&(i.mostRecentlyFocusedNode=s);else{u.stopImmediatePropagation();var g,y=!0;if(i.mostRecentlyFocusedNode)if(_(i.mostRecentlyFocusedNode)>0){var T=v(i.mostRecentlyFocusedNode),E=i.containerGroups[T].tabbableNodes;if(E.length>0){var k=E.findIndex(function(F){return F===i.mostRecentlyFocusedNode});k>=0&&(o.isKeyForward(i.recentNavEvent)?k+1<E.length&&(g=E[k+1],y=!1):k-1>=0&&(g=E[k-1],y=!1))}}else i.containerGroups.some(function(F){return F.tabbableNodes.some(function(C){return _(C)>0})})||(y=!1);else y=!1;y&&(g=P({target:i.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(i.recentNavEvent)})),c(g||i.mostRecentlyFocusedNode||h())}i.recentNavEvent=void 0},I=function(u){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=u;var d=P({event:u,isBackward:s});d&&(q(u)&&u.preventDefault(),c(d))},B=function(u){if(Qt(u)&&U(o.escapeDeactivates,u)!==!1){u.preventDefault(),f.deactivate();return}(o.isKeyForward(u)||o.isKeyBackward(u))&&I(u,o.isKeyBackward(u))},he=function(u){var s=z(u);v(s,u)>=0||U(o.clickOutsideDeactivates,u)||U(o.allowOutsideClick,u)||(u.preventDefault(),u.stopImmediatePropagation())},me=function(){if(i.active)return Ae.activateTrap(a,f),i.delayInitialFocusTimer=o.delayInitialFocus?Ce(function(){c(h())}):c(h()),n.addEventListener("focusin",D,!0),n.addEventListener("mousedown",S,{capture:!0,passive:!1}),n.addEventListener("touchstart",S,{capture:!0,passive:!1}),n.addEventListener("click",he,{capture:!0,passive:!1}),n.addEventListener("keydown",B,{capture:!0,passive:!1}),f},pe=function(){if(i.active)return n.removeEventListener("focusin",D,!0),n.removeEventListener("mousedown",S,!0),n.removeEventListener("touchstart",S,!0),n.removeEventListener("click",he,!0),n.removeEventListener("keydown",B,!0),f},tt=function(u){var s=u.some(function(d){var g=Array.from(d.removedNodes);return g.some(function(y){return y===i.mostRecentlyFocusedNode})});s&&c(h())},te=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(tt):void 0,K=function(){te&&(te.disconnect(),i.active&&!i.paused&&i.containers.map(function(u){te.observe(u,{subtree:!0,childList:!0})}))};return f={get active(){return i.active},get paused(){return i.paused},activate:function(u){if(i.active)return this;var s=b(u,"onActivate"),d=b(u,"onPostActivate"),g=b(u,"checkCanFocusTrap");g||l(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement,s==null||s();var y=function(){g&&l(),me(),K(),d==null||d()};return g?(g(i.containers.concat()).then(y,y),this):(y(),this)},deactivate:function(u){if(!i.active)return this;var s=Ie({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},u);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,pe(),i.active=!1,i.paused=!1,K(),Ae.deactivateTrap(a,f);var d=b(s,"onDeactivate"),g=b(s,"onPostDeactivate"),y=b(s,"checkCanReturnFocus"),T=b(s,"returnFocus","returnFocusOnDeactivate");d==null||d();var E=function(){Ce(function(){T&&c(N(i.nodeFocusedBeforeActivation)),g==null||g()})};return T&&y?(y(N(i.nodeFocusedBeforeActivation)).then(E,E),this):(E(),this)},pause:function(u){if(i.paused||!i.active)return this;var s=b(u,"onPause"),d=b(u,"onPostPause");return i.paused=!0,s==null||s(),pe(),K(),d==null||d(),this},unpause:function(u){if(!i.paused||!i.active)return this;var s=b(u,"onUnpause"),d=b(u,"onPostUnpause");return i.paused=!1,s==null||s(),l(),me(),K(),d==null||d(),this},updateContainerElements:function(u){var s=[].concat(u).filter(Boolean);return i.containers=s.map(function(d){return typeof d=="string"?n.querySelector(d):d}),i.active&&l(),K(),this}},f.updateContainerElements(e),f};function mn(r={}){let e;const{immediate:t,...n}=r,a=se(!1),o=se(!1),i=h=>e==null?void 0:e.activate(h),f=h=>{e==null||e.deactivate(h)},b=()=>{e&&(e.pause(),o.set(!0))},v=()=>{e&&(e.unpause(),o.set(!1))};return{useFocusTrap:h=>(e=en(h,{...n,onActivate(){var l;a.set(!0),(l=r.onActivate)==null||l.call(r)},onDeactivate(){var l;a.set(!1),(l=r.onDeactivate)==null||l.call(r)}}),t&&i(),{destroy(){f(),e=void 0}}),hasFocus:Te(a),isPaused:Te(o),activate:i,deactivate:f,pause:b,unpause:v}}const X=[],pn=(r,e)=>{let t=V;function n(){const o=X.indexOf(r);o>=0&&X.splice(o,1)}function a(o){t();const{open:i,onClose:f,shouldCloseOnInteractOutside:b,closeOnInteractOutside:v}=o;ze(100).then(()=>{i?X.push(r):n()});function p(){return pt(X)===r}function h(){p()&&f&&(f(),n())}function l(c){const N=c.target;be(N)&&N&&p()&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation())}function m(c){b!=null&&b(c)&&p()&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation(),h())}t=tn(r,{onInteractOutsideStart:l,onInteractOutside:v?m:void 0,enabled:i}).destroy}return a(e),{update:a,destroy(){n(),t()}}},gn=(r,e="body")=>{let t;if(!Q(e)&&typeof e!="string")return{destroy:V};async function n(o){if(e=o,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Ue(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);r.dataset.portal="",t.appendChild(r),r.hidden=!1}function a(){r.remove()}return n(e),{update:n,destroy:a}},tn=(r,e)=>{let t=V,n=V,a=!1,o=!1,i=!1;function f(p){t(),n();const{onInteractOutside:h,onInteractOutsideStart:l,enabled:m}=p;if(!m)return;function c(S){h&&_e(S,r)&&(l==null||l(S));const D=S.target;be(D)&&et(r,D)&&(o=!0),a=!0}function N(S){h==null||h(S)}const P=nn(r);if(typeof PointerEvent<"u"){const S=D=>{n();const I=B=>{b(B)&&N(B),v()};if(D.pointerType==="touch"){n=O(P,"click",I,{capture:!0,once:!0});return}I(D)};t=Ne(O(P,"pointerdown",c,!0),O(P,"pointerup",S,!0))}else{const S=I=>{i?i=!1:b(I)&&N(I),v()},D=I=>{i=!0,b(I)&&N(I),v()};t=Ne(O(P,"mousedown",c,!0),O(P,"mouseup",S,!0),O(P,"touchstart",c,!0),O(P,"touchend",D,!0))}}function b(p){return!!(a&&!o&&_e(p,r))}function v(){a=!1,o=!1}return f(e),{update:f,destroy(){t(),n()}}};function _e(r,e){if("button"in r&&r.button>0)return!1;const t=r.target;if(!be(t))return!1;const n=t.ownerDocument;return!n||!n.documentElement.contains(t)?!1:e&&!et(e,t)}function et(r,e){return r===e||r.contains(e)}function nn(r){return(r==null?void 0:r.ownerDocument)??document}function yn(r,e){const t={};return e.forEach(n=>{t[n]={[`data-${r}-${n}`]:""}}),n=>t[n]}function wn(r){return r?{"aria-disabled":"true","data-disabled":""}:{"aria-disabled":void 0,"data-disabled":void 0}}function Nn(){const r=at();return e=>{const{originalEvent:t}=e.detail,{cancelable:n}=e,a=t.type;r(a,{originalEvent:t,currentTarget:t.currentTarget},{cancelable:n})||e.preventDefault()}}function Tn(r){const e={};for(const t in r){const n=r[t];n!==void 0&&(e[t]=n)}return e}function En(r){return function(e,t){if(t===void 0)return;const n=r[e];n&&n.set(t)}}export{un as A,vt as I,bn as a,gn as b,mn as c,yn as d,Tn as e,En as f,fn as g,hn as h,Nn as i,wn as j,cn as o,dn as r,ze as s,vn as t,pn as u,ln as w};
